<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Loadscreen</title>

  <!-- CSS local (mismo repo) -->
  <link rel="stylesheet" href="./style.css?v=web100" />

  <!-- ===== OVERRIDES FINALES (cargan al final para ganar prioridad) ===== -->
  <style>
    /* Sube las stats y re-activa interacciones */
    body .stats{
      position: fixed !important;
      left: 50% !important;
      transform: translateX(-50%) !important;
      bottom: 110px !important;          /* ‚Üê ajust√° altura ac√° */
      z-index: 6000 !important;
      pointer-events: auto !important;    /* vuelven a recibir hover/click */
    }
    body .stats .stat{ pointer-events: auto !important; }

    /* El texto ¬°Bienvenid@! centrado entre perfil y stats */
    body .welcome{
      position: fixed !important;
      left: 50% !important;
      transform: translateX(-50%) !important;
      bottom: 160px !important;           /* un poco por arriba de las stats */
      z-index: 8000 !important;           /* entre perfil (9000) y stats (6000) */
      margin: 0 !important;
    }

    /* El perfil siempre por encima de todo lo anterior */
    body .player-card{
      position: fixed !important;
      top: calc(40vh + 58px) !important;  /* si quer√©s subir/bajar, toc√° ac√° */
      left: 50% !important;
      transform: translateX(-50%) !important;
      z-index: 9000 !important;           /* > welcome y > stats */
    }

    /* El contenedor de tips no bloquea clics del juego;
       cada chip s√≠ puede recibir click/hover. */
    body .tips{ pointer-events: none !important; }
    body .tip { pointer-events: auto !important; }

    /* Bot√≥n de m√∫sica pegado a la derecha del footer */
    body .foot{ justify-content: flex-end !important; }
    body .foot .btn#mute{ margin-left: auto !important; }
  </style>
</head>
<body>
  <!-- Fondo + overlay -->
  <div id="bg"></div>
  <canvas id="fx"></canvas>
  <div class="overlay"></div>

  <!-- Contenido -->
  <div class="wrap">
    <!-- TOP / Marca -->
    <header class="top card">
      <div class="brand">
        <img id="logo" alt="logo" />
        <div class="titles">
          <h1 id="title">Quantum Pulse</h1>
          <p id="subtitle">Gamemode: ‚Äî</p>
        </div>
      </div>
    </header>

    <!-- CENTER -->
    <section class="center">
      <p id="loading" class="loading">Conectando con el servidor‚Ä¶</p>

      <!-- barra de progreso -->
      <div class="progress card" aria-label="Progreso">
        <i id="bar"></i>
        <span id="pct" class="pct">0%</span>
      </div>

      <!-- tarjeta de jugador -->
      <div class="player-card card">
        <img id="avatar" class="avatar" alt="avatar" />
        <div class="pc-info">
          <div class="hi">Hola de nuevo</div>
          <div id="pc-nick" class="nick">Jugador</div>
          <div id="pc-sid" class="sid">SteamID</div>
        </div>
      </div>

      <!-- mensaje de bienvenida (entre perfil y stats) -->
      <h2 class="welcome">¬°Bienvenid@!</h2>
    </section>

    <!-- STATS (abajo, chips) -->
    <section class="stats" id="stats">
      <div class="stat card">
        <span class="ic">‚ö°</span>
        <div class="kv">
          <div class="k">DINERO</div>
          <div id="st-money" class="v">‚Äî</div>
        </div>
      </div>
      <div class="stat card">
        <span class="ic">üèµÔ∏è</span>
        <div class="kv">
          <div class="k">TIEMPO</div>
          <div id="st-time" class="v">‚Äî</div>
        </div>
      </div>
      <div class="stat card">
        <span class="ic">‚≠ê</span>
        <div class="kv">
          <div class="k">RANGO / JOB</div>
          <div id="st-rank" class="v">‚Äî</div>
        </div>
      </div>
      <div class="stat card">
        <span class="ic">üìò</span>
        <div class="kv">
          <div class="k">MAPA</div>
          <div id="st-map" class="v">‚Äî</div>
        </div>
      </div>
    </section>

    <!-- FOOTER / tips + bot√≥n m√∫sica -->
    <footer class="foot">
      <div class="tips" id="tips"></div>
      <button class="btn" id="mute">üîä M√∫sica</button>
    </footer>
  </div>

  <!-- Audio (en GMod usa asset:// v√≠a app.js; en web pod√©s poner un .ogg local si quer√©s) -->
  <audio id="bgm" preload="auto"></audio>

  <!-- JS local (mismo repo) -->
  <script src="./app.js?v=web100" defer></script>

  <!-- Shim: si existe gmod.Ready() lo llamamos; en web no hace nada malo -->
  <script>
    window.addEventListener('DOMContentLoaded', function () {
      if (window.gmod && typeof gmod.Ready === 'function') {
        try { gmod.Ready(); } catch (e) {}
      }
    });
  </script>
</body>
</html>
